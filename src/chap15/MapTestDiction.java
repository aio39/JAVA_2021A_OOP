package chap15;

import java.util.HashMap;
import java.util.Map;
import java.util.StringTokenizer;
import java.util.*;

public class MapTestDiction {

    public static void main(String[] args) {
        // Map<String, Integer> map = new HashMap<>();
        // String[] sample = { "to", "be", "or", "not", "to", "be", "is", "a", "problem"
        // };
        // for (String a : sample) {
        // Integer freq = map.get(a);
        // map.put(a, (freq == null) ? 1 : freq + 1);
        // }
        test();
    }

    public static void test() {
        String sample = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec congue sem neque, tempus consectetur ante ultricies egestas. Nulla enim lorem, imperdiet sed nunc nec, convallis ultricies urna. Nullam nec tempus risus. Proin fringilla, lorem eget blandit porttitor, nisl eros mattis nisi, ac placerat turpis libero quis odio. Donec nisi purus, fringilla sit amet ligula id, ornare dignissim mauris. Curabitur tempus mi non quam dapibus, ultricies dictum eros sollicitudin. Curabitur sit amet semper sem, quis eleifend leo. Maecenas tincidunt, massa sit amet varius sagittis, diam lorem ultricies mi, ac volutpat leo tortor consectetur ligula. Sed pellentesque erat nulla, a imperdiet tellus tempor bibendum. Sed fermentum fringilla eros, a blandit justo dignissim in. Maecenas auctor nisl eu aliquam pulvinar. Proin sed tristique sem, vitae gravida purus. Sed ullamcorper euismod leo ut volutpat. Integer sit amet elit nisi. Donec rhoncus vitae leo sit amet scelerisque. Vivamus id arcu at tortor porta pharetra gravida quis tortor. Sed ullamcorper arcu non risus tincidunt, eu ornare ante varius. Quisque et blandit felis, nec efficitur metus. Maecenas vel consectetur nisl. Aliquam a dui lectus. Cras non odio diam. Maecenas arcu nibh, mollis quis eleifend non, mattis sed velit. Vestibulum pulvinar eget velit sit amet eleifend. Aenean mollis porta est, in sollicitudin mauris eleifend sit amet. Aliquam egestas odio ut metus facilisis, vitae auctor orci vulputate. Phasellus ornare ullamcorper velit, vitae tincidunt lectus dapibus in. Nulla ullamcorper vulputate nisl, nec tempus nunc iaculis quis. Nunc venenatis, nibh tristique auctor molestie, turpis leo tempor diam, quis vestibulum felis velit sit amet turpis. Nunc consectetur sem erat, eu dapibus magna tempus eget. Mauris imperdiet placerat dolor. Quisque mi libero, elementum quis nunc vel, feugiat posuere mauris. Aliquam aliquet molestie lacus, viverra consequat quam tristique a. Nullam luctus est vitae nibh bibendum, pharetra elementum nibh cursus. In hac habitasse platea dictumst. Fusce finibus lacus consectetur nisl lacinia, a rutrum ante vestibulum. Nunc blandit vitae nisl eu dapibus. Duis eu sollicitudin sapien. Proin diam diam, suscipit eu mattis non, convallis nec dolor. Praesent hendrerit purus at posuere tincidunt. Integer faucibus eget justo nec efficitur. Donec gravida urna vitae congue finibus. Aliquam porta interdum placerat. Ut ac mauris dignissim, vulputate eros sit amet, luctus est. Nulla ut massa massa. Suspendisse potenti. Nunc aliquam, orci eget gravida suscipit, eros libero scelerisque lorem, nec blandit diam quam imperdiet sapien. Sed a venenatis felis. Cras interdum enim id vulputate ornare. Duis pulvinar arcu mattis elit venenatis, luctus venenatis est interdum. Etiam rutrum pellentesque porta. Aliquam erat turpis, pretium vitae tortor et, accumsan tincidunt risus. Sed augue justo, dignissim in ultrices id, posuere quis magna. Morbi in sem metus. Ut tortor ligula, molestie vitae facilisis in, viverra ac ante. Donec scelerisque orci nec mauris mattis scelerisque. Phasellus nunc sem, placerat sit amet laoreet et, congue sit amet massa. Mauris quis cursus ipsum. Proin tempus finibus arcu, volutpat efficitur mauris luctus vel. Donec mattis dolor sed vehicula laoreet. Nulla ultrices ante eget nibh imperdiet, vitae vulputate enim tristique. Curabitur sit amet venenatis nisi. Integer elit nunc, viverra nec magna sed, tincidunt rhoncus eros. Pellentesque rhoncus volutpat ullamcorper. Quisque vel malesuada sem. Phasellus congue leo eu viverra semper. Mauris ultrices nisl non massa luctus pretium. Mauris molestie metus at mi molestie lobortis. Nunc at libero lectus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Etiam dictum et felis at bibendum. Vivamus ultricies enim sit amet velit auctor, at imperdiet metus semper. Sed vel nibh leo. Suspendisse potenti. Curabitur eget orci ut erat fermentum volutpat sed et arcu. Ut massa erat, posuere ultrices sapien non, mattis pellentesque dolor. Fusce pulvinar est quis lectus scelerisque, a imperdiet dolor tincidunt. Vivamus ac urna sit amet sem ultricies facilisis et vitae mauris. Vestibulum bibendum mollis consequat. Sed gravida scelerisque sollicitudin. Nunc eu faucibus diam. Pellentesque efficitur, libero a convallis tincidunt, dui nisl venenatis nisi, quis iaculis nunc purus ut erat. Sed leo neque, faucibus vel fermentum quis, dapibus in magna. Suspendisse commodo nibh et congue lacinia. Suspendisse ultricies vulputate neque, et vulputate augue imperdiet vitae. Phasellus leo metus, auctor at porta et, rhoncus in lacus. Pellentesque ut sem cursus, semper tortor id, hendrerit magna. Nam a sagittis neque. Etiam elit nunc, tincidunt quis facilisis nec, sagittis eu urna. Ut ac ultricies augue, sed volutpat dui. In et imperdiet quam, sit amet interdum eros. Pellentesque vehicula vulputate dolor at feugiat. Mauris tincidunt dapibus libero, nec accumsan metus. Sed quis egestas elit. Proin eu neque nunc. Interdum et malesuada fames ac ante ipsum primis in faucibus. Morbi hendrerit neque eu ante viverra porta. Vivamus a ligula elit. Maecenas gravida arcu id sodales efficitur. Vestibulum pharetra orci metus, et euismod sem dapibus nec. Pellentesque vitae laoreet lectus. Pellentesque eleifend quis lorem feugiat lobortis. Ut at mi at lacus sagittis ultrices. Integer cursus ornare ex, nec tincidunt elit fermentum et. Quisque sit amet suscipit purus. Aenean condimentum erat sit amet magna pellentesque convallis. Aenean rhoncus venenatis purus quis congue. Integer sed ligula suscipit, sagittis diam vel, tempor lectus. Curabitur eu varius tortor. Ut sollicitudin imperdiet viverra. In non tincidunt ante, quis faucibus ante. Nulla pulvinar luctus sapien ut ultricies. Proin id libero interdum, aliquam lacus at, dignissim dui. Praesent accumsan est et augue blandit congue. Suspendisse nunc felis, scelerisque in lacus sed, sagittis pretium sem. Proin et magna fringilla, venenatis turpis at, suscipit nibh. Pellentesque non semper felis, eget convallis metus. Maecenas egestas ante sit amet tellus feugiat blandit vel id est. Aenean non ornare erat. Maecenas ut volutpat enim. Aenean a tellus egestas sem porta pulvinar vitae vitae nibh. Phasellus est felis, mollis a enim quis, imperdiet convallis velit. Vestibulum condimentum mauris ac nibh facilisis, eu finibus tortor lacinia. Vivamus auctor aliquam mauris, et auctor metus hendrerit vitae. Aenean in augue lectus. Aliquam erat volutpat. Integer viverra, lectus quis dignissim pharetra, nunc tortor posuere ipsum, vel gravida risus nisi id velit. Suspendisse viverra leo et turpis elementum convallis. Nulla ullamcorper nunc porttitor, volutpat sapien sed, viverra nisl. Etiam tempor commodo urna, non ornare massa semper ut. In semper lacinia faucibus. Morbi sit amet finibus risus. Vestibulum at lorem erat. Morbi turpis justo, luctus quis accumsan suscipit, placerat non purus. Nullam a sodales risus. Nullam feugiat, massa ut volutpat maximus, nulla orci rhoncus eros, ac accumsan sapien diam non tellus. Sed in egestas nibh. Curabitur fringilla lorem at enim venenatis, at bibendum orci ornare. Vestibulum lacinia aliquet orci, nec tempor quam egestas sed. Quisque eget nibh risus. Etiam posuere lobortis libero in ornare. Quisque varius elit quis congue laoreet. Curabitur at nisi ut nunc ullamcorper rutrum. Nulla vehicula vehicula laoreet. Duis tempor interdum ipsum. Suspendisse vel mauris ac augue auctor vehicula. In a ligula diam. Suspendisse non magna lobortis, tempor erat et, viverra diam. Nulla facilisi. Cras id quam quis dolor tincidunt hendrerit. Nullam ac ante nibh. Phasellus vitae sodales ante, non pretium risus. Etiam vitae diam cursus, sodales libero quis, lobortis leo. Quisque sit amet molestie erat. Nunc aliquam et enim non mattis. Praesent interdum purus odio, at imperdiet metus bibendum ut. Suspendisse nec placerat libero, in sollicitudin dui. Fusce vitae luctus ligula, at pulvinar magna. Ut maximus nisl at lectus posuere euismod. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam nibh lectus, rutrum eu rutrum in, fringilla id nisl. Nulla est erat, laoreet id sapien at, pulvinar consectetur elit. Mauris at dui diam. In et pellentesque nisl, aliquam molestie risus. Morbi quis massa magna. Aliquam condimentum nisi non massa mattis dapibus. Curabitur ac commodo orci. Sed interdum porttitor libero. Sed sed nisl quam. Suspendisse suscipit pharetra lectus, pellentesque pulvinar nisl tempus quis. Duis blandit magna nisl, hendrerit interdum nibh tincidunt eget. Mauris malesuada pharetra orci, lacinia luctus magna sagittis semper. Donec id massa sodales, hendrerit massa vitae, posuere urna. Aliquam a turpis nisl. Donec vitae sapien pharetra, lacinia odio ut, hendrerit justo. Nulla a purus at magna vestibulum vestibulum sit amet nec justo. Nulla scelerisque nisi nec velit mattis ultrices. Pellentesque et nisl a orci lobortis vulputate. Aliquam luctus eleifend nunc. Nullam maximus, nulla non tempor laoreet, orci metus convallis sapien, sed venenatis orci massa vel neque. Mauris viverra dui in justo tristique, quis ornare mi lacinia. Quisque sit amet massa egestas, consectetur purus ac, rutrum nunc. Pellentesque rutrum mauris et congue condimentum. Duis ac sem turpis. Maecenas fringilla massa in turpis tincidunt condimentum. Vivamus maximus ipsum risus, nec aliquet felis cursus non. Nam a viverra dui. Aliquam erat volutpat. Integer sed accumsan lectus, in viverra ante. Pellentesque feugiat, dui in facilisis molestie, ligula ligula placerat enim, vitae mollis erat metus finibus nulla. Proin dignissim lobortis neque, vel varius ipsum viverra quis. Morbi rutrum dictum ultrices. Suspendisse malesuada leo eu risus varius sagittis. Nam vel lacus vel nulla sagittis placerat. Suspendisse quis bibendum magna. Integer auctor tincidunt ligula, vitae tempor diam facilisis quis. Quisque ultrices lectus massa. Vivamus semper nisi sit amet consequat egestas. Proin non consequat nunc. Etiam pellentesque leo urna, id volutpat enim tempus non. Phasellus accumsan tortor id ligula vestibulum, et venenatis ex venenatis. In hac habitasse platea dictumst. Vestibulum mollis ut quam eget dignissim. Donec vel ligula nec odio rutrum pulvinar. Nullam vel dolor euismod, vulputate diam eget, iaculis est. Suspendisse a arcu non purus suscipit ultrices. Vivamus scelerisque leo ut ex tincidunt, ac efficitur ligula ullamcorper. Morbi a fermentum ante. Phasellus quis gravida metus, at facilisis ipsum. Mauris gravida mauris at diam volutpat, in rhoncus lacus dapibus. In hac habitasse platea dictumst. Quisque interdum porta diam ac hendrerit. In dapibus facilisis enim id interdum. Praesent et egestas nisl, sed ultricies est. Maecenas non eros in odio dignissim gravida. Quisque ut bibendum nunc. Phasellus at purus sollicitudin, tempor libero id, imperdiet augue. Aliquam at dolor ut nulla euismod tempor. Suspendisse sed bibendum dolor, convallis efficitur metus. Ut eu vulputate purus, sit amet fringilla ex. Vestibulum id orci purus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Sed elit odio, vestibulum ut sagittis in, laoreet id turpis. Donec interdum lectus et nulla euismod, vel consequat elit finibus. Curabitur ut lorem vitae nibh maximus eleifend a ac lectus. Aenean suscipit posuere quam et gravida. Ut elit metus, cursus in urna vulputate, interdum auctor libero. Etiam aliquam metus sed mauris dignissim mattis. Donec volutpat, enim vitae hendrerit feugiat, quam nibh tincidunt enim, ut pretium purus quam eget turpis. Quisque mollis lorem at mi blandit consectetur. Aliquam ut ligula arcu. Phasellus euismod rutrum pulvinar. Donec sodales molestie orci ut imperdiet. Nulla facilisi. Vestibulum vulputate, justo ac consequat aliquam, ipsum est hendrerit justo, sed bibendum purus nisl et arcu. Integer sed nibh euismod, lacinia urna ac, pretium ligula. Aliquam mattis eros lectus, vitae mattis sem molestie eget. Ut dignissim condimentum porta. Proin tincidunt ante ligula. Morbi quis justo sed velit interdum aliquam ut a lacus. Sed lacus augue, dapibus in augue in, volutpat molestie augue. In hac habitasse platea dictumst. Nulla id augue leo. Quisque nec feugiat tellus, nec condimentum lacus. Pellentesque eget ex consectetur, aliquam quam in, condimentum quam. Nunc ipsum enim, aliquam at facilisis vel, aliquam at ligula. Donec condimentum dapibus velit et rhoncus. Morbi dignissim arcu at eros blandit, a vehicula lectus porttitor. Curabitur nec nunc eu massa pulvinar condimentum eu pretium enim. Sed ut arcu sit amet ante posuere mattis sit amet eget nibh. Ut pulvinar elit vel est pharetra tincidunt. Aliquam erat volutpat. Curabitur quam magna, luctus sed ex at, egestas venenatis sapien. Nunc erat lacus, consequat in sollicitudin vel, facilisis id odio. Maecenas interdum massa at nisi ultricies porta. Cras ac tortor massa. In vitae lorem at nisl facilisis aliquet. Proin congue cursus convallis. Sed aliquet ante eu libero convallis, in vulputate sem venenatis. Praesent luctus dolor sem, ut dictum arcu maximus non. Vestibulum felis eros, lobortis vel condimentum at, blandit non purus. Aenean scelerisque leo at ex posuere semper. Sed vel ex tellus. In quis lacinia sapien. Mauris porttitor consequat velit, ac vulputate nisl elementum sit amet. Duis nec lectus lacus. Sed quis dui tempor, porta purus placerat, suscipit sapien. Cras non ex sit amet felis aliquet laoreet eget non felis. Sed id fringilla lectus. Ut venenatis arcu.";
        StringTokenizer st = new StringTokenizer(sample, "., -");
        Map<String, Integer> map = new HashMap<>();

        while (st.hasMoreTokens()) {
            String key = st.nextToken();
            Integer value = map.get(key); // auto unboxing 객체 타입의 값을 대응 되는 기본 타입의 변수에 저장하려고 하면 자바는 자동으로 그 객체 타입의 값을 기본
                                          // 타입의 값으로 변환해줌.
                                          // 하지만 지금은 null일 가능성이 있으므로 int로 받을 수 없다.
            map.put(key, (value == null ? 1 : value + 1)); // 제네릭은 Interger 객체로 제한 했지만 자바는 auto boxing, 원시값을 객체 타입 갑으로
                                                           // 바꿔줌.
        }

        List<Map.Entry<String, Integer>> list_entries = new ArrayList<>(map.entrySet());

        Collections.sort(list_entries, new Comparator<Map.Entry<String, Integer>>() {

            public int compare(Map.Entry<String, Integer> obj1, Map.Entry<String, Integer> obj2) {
                return obj1.getValue().compareTo(obj2.getValue());
            }
        });

        System.out.println(map.size() + "개의 단어가 있습니다");
        for (Map.Entry<String, Integer> entry : list_entries) {
            System.out.println(entry.getKey() + "---" + entry.getValue());
        }

    }

}
